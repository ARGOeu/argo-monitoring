<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Introduction | Argo Monitoring</title><meta data-react-helmet="true" property="og:url" content="https://argoeu.github.io/argo-monitoring/docs/Guides/intro"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Introduction | Argo Monitoring"><meta data-react-helmet="true" name="description" content="Monitoring is the key service needed to gain insights into an infrastructure. It needs to be continuous and on-demand to quickly detect, correlate, and analyse data for a fast reaction to anomalous behaviour. The challenge of this type of monitoring is how to quickly identify and correlate problems before they affect end-users and ultimately the productivity of the organisation. Management teams can monitor the availability and reliability of the services from a high level view down to individual system metrics and monitor the conformance of multiple SLAs.  The key functional requirements are:"><meta data-react-helmet="true" property="og:description" content="Monitoring is the key service needed to gain insights into an infrastructure. It needs to be continuous and on-demand to quickly detect, correlate, and analyse data for a fast reaction to anomalous behaviour. The challenge of this type of monitoring is how to quickly identify and correlate problems before they affect end-users and ultimately the productivity of the organisation. Management teams can monitor the availability and reliability of the services from a high level view down to individual system metrics and monitor the conformance of multiple SLAs.  The key functional requirements are:"><link data-react-helmet="true" rel="shortcut icon" href="/argo-monitoring/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://argoeu.github.io/argo-monitoring/docs/Guides/intro"><link data-react-helmet="true" rel="alternate" href="https://argoeu.github.io/argo-monitoring/docs/Guides/intro" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://argoeu.github.io/argo-monitoring/docs/Guides/intro" hreflang="x-default"><link rel="stylesheet" href="/argo-monitoring/assets/css/styles.af0ad6d7.css">
<link rel="preload" href="/argo-monitoring/assets/js/runtime~main.4a079497.js" as="script">
<link rel="preload" href="/argo-monitoring/assets/js/main.2b24bbd6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/argo-monitoring/"><img src="/argo-monitoring/img/argo_icon.svg" alt="Argo Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/argo-monitoring/img/argo_icon.svg" alt="Argo Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Argo Monitoring</b></a><a class="navbar__item navbar__link navbar__link--active" href="/argo-monitoring/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/argo-monitoring/docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/argo-monitoring/docs/Guides/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/argo-monitoring/docs/Guides/case1">Use Case 1: Monitor an Onboarded Service (central one)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/argo-monitoring/docs/Guides/case2">Use Case 2: Monitor an Infrastructure (community)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/argo-monitoring/docs/Guides/case3">Use Case 3: Integrate  External  Monitoring  service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/argo-monitoring/docs/Guides/case4">Use Case 4: Combine Results of existing ARGO Tenants.</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/argo-monitoring/docs/Guides/case5">Use Case  5: Third-party services exploiting EOSC Monitoring data</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">InformationFeeds</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Monitoring</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Policies</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Profiles</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reports</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Introduction</h1></header><p>Monitoring is the key service needed to gain insights into an infrastructure. It needs to be continuous and on-demand to quickly detect, correlate, and analyse data for a fast reaction to anomalous behaviour. The challenge of this type of monitoring is how to quickly identify and correlate problems before they affect end-users and ultimately the productivity of the organisation. Management teams can monitor the availability and reliability of the services from a high level view down to individual system metrics and monitor the conformance of multiple SLAs.  The key functional requirements are:</p><ul><li>Monitoring of services</li><li>Reporting availability and reliability,</li><li>Visualisation of the services status, </li><li>Provide dashboard interfaces,</li><li>Sending real-time alerts. </li></ul><p>The dashboard design should enable easy access and visualisation of data for end-users. APIs should also be supported so as to allow third parties to gather monitoring data from the system through them.</p><p>The key requirements of a monitoring system are:</p><ul><li>Support for multiple entry points (different types of systems can work together)</li><li>Interoperable </li><li>High availability of the different components of the system</li><li>Loosely coupled: support API&#x27;s in the full stack so that components are independent in their development cycles</li><li>Support for Multiple Tenants, Configurations, Metrics and profiles to add flexibility and ease of customisation.  </li></ul><p>For EOSC there are two monitoring services already in place: EOSC CORE and the EOSC Exchange Monitoring Service. These two services are responsible to monitor the Core services (EOSC Core Monitoring) and the services onboarded to the Marketplace (EOSC-Exchange Monitoring).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="high-level-service-reference-architecture"></a>High-level Service Reference Architecture<a class="hash-link" href="#high-level-service-reference-architecture" title="Direct link to heading">#</a></h2><p>The service collects status (metrics) results from one or more monitoring engine(es) and delivers daily and/or monthly availability (A) and reliability (R) results of distributed services. Both status results and A/R metrics are presented through a Web UI, with the ability for a user to drill-down from the availability of a site to individual test results that contributed to the computed figure.</p><p><img alt="Architecture" src="/argo-monitoring/assets/images/architecture-a66d2793f3e6fc0cd5b39bfc25c0dfdb.png"></p><p><em>Figure 1. High level architecture of a Monitoring service</em> </p><p>The main components of a monitoring service are depicted in the high-level architecture diagram and described below. </p><p><strong>Monitoring Engine(s):</strong> This service component executes the service checks against the infrastructure and delivers the metric data (probe check results) to the Messaging Service. </p><p><strong>Sources of Truth:</strong>  The Monitoring system should support a number of connector plugins that are able to fetch topology, Metrics and Factors  from various sources such as the CMDB and the Providers Portal.  It also offers a Metric and Profile Management Component which is used in order to define checks (probes) and associate them to service types. Each grouping of checks and service types forms a profile. </p><p><strong>Messaging:</strong>  The monitoring system depends on a Pub/Sub Messaging Service to be in place, in order to facilitate the communication between its components.</p><p><strong>Computations &amp; Analytics:</strong> This component of the system should include computational job definitions for ingesting data, calculating status and availability/reliability and a management service to automatically configure, deploy and execute those jobs on a distributed processing engine for stateful computations. At the same time this component analyzes the monitoring results and sends notifications based on a set of rules, to inform the users (operators, NGIs) about the status of their services. </p><p><strong>WEB API:</strong> Rest-like HTTP API service that provides access to status and availability/reliability results. It supports token based authentication and authorization with established roles. Results are provided in JSON Format. </p><p><strong>WEB UI:</strong> The Web UI is the component used to store, consolidate and &quot;feed&quot; data into the web application. The global information from the primary and heterogeneous data sources  is retrieved by means of the different plugins. The collected information is structured and organized within configuration files in the service and, finally, made available to the web application without the need for any further computations. This modular architecture is conceived in order to make it easy to add new data sources and to use cached information if a primary source is unavailable. The resulting data is exposed through a <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm" target="_blank" rel="noopener noreferrer">RESTful</a> web service interface.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="definitions"></a>Definitions<a class="hash-link" href="#definitions" title="Direct link to heading">#</a></h2><p>In this section we explain the basic concepts of EOSC Monitoring.</p><p>A <strong>Tenant</strong> is an isolated instance of the ARGO Monitor service that relies on common components and provides the  user with its own environment. </p><p>ARGO provides default <strong>UI and POEM URLs</strong> in following form:</p><ul><li>UI: <code>https://&lt;tenant\_name\&gt;.ui.argo.grnet.gr</code></li><li>POEM: <code>https://&lt;tenant\_name\&gt;.ui.argo.grnet.gr</code></li></ul><p>In case custom ones are to be used, the customer is responsible for providing valid certificates and DNS aliases.</p><p>ARGO Monitoring service requires following <strong><a href="https://argoeu.github.io/argo-monitoring/docs/InformationFeeds/topology" target="_blank" rel="noopener noreferrer">topology</a></strong> information in order to monitor services:</p><ul><li>the services and service endpoints they are running,</li><li>the way they are organised (e.g. groups of sites, groups of services),</li><li>the service actors (owners, admins, contact points).</li></ul><p>Topology can be further extended with attributes needed for individual probes (e.g. service port or URL, path to be used in case of storage services, e.g.).</p><p>Supported topology sources are:</p><ul><li>EOSC Resource Registry (Providers Portal): </li></ul><p>Need to be extended to hold the following information for Monitoring.</p><ul><li><p>Service unique Id</p></li><li><p>the service endpoints,</p></li><li><p>the way they are organised (service, service components),</p></li><li><p>the service actors (owners, admins, contact points).</p></li><li><p>EGI Configuration Database (GOCDB) </p></li><li><p>EUDAT DPMT</p></li><li><p>JSON feed in the predefined format.</p></li></ul><p>A <strong>Metric</strong> is a chunk of code that checks specific functionality of a given service. For example a metric such as Portal-WebCheck runs on a site and checks if the HTTP connection responds correctly  or not. </p><p>A Probe is a piece of code that implements single or multiple tests. The probe must comply with <a href="https://argoeu.github.io/argo-monitoring/docs/Monitoring/guidelines" target="_blank" rel="noopener noreferrer">the guidelines for monitoring probes</a>. </p><p>ARGO provides a registry of probes and metrics. New probes and metrics can be added to the registry with the support of the ARGO monitoring team.</p><p>A <strong><a href="https://argoeu.github.io/argo-monitoring/docs/Profiles/metrics-profile" target="_blank" rel="noopener noreferrer">Metric Profile</a></strong> is used to associate a Service with the corresponding metrics.</p><p>An <strong><a href="https://argoeu.github.io/argo-monitoring/docs/Profiles/aggregation-profile" target="_blank" rel="noopener noreferrer">Aggregation Profile</a></strong> defines how to aggregate service statuses into higher hierarchical grouping (i.e. a service_group) status results. They are actually used to define logical rules on how to aggregate individual service status computations into groups.</p><p>The results of the metrics are computed, into EOSC Monitoring Service calculations, in order to conclude into the operational state of the service, during a specific period. In order to conclude about the operational state of the service, all or part of the metrics that check the service&#x27;s functionality should be taken into account. In Metrics Profiles are included, for each service, these metrics whose results are considered to the computations of the service&#x27;s state. For example, a service WebSite runs on host1.example.com. The WebSite service should operate properly, be accessible and some actions should be available such as downloading or uploading material (documents, images etc). Three metrics can apply on the service to check it&#x27;s functionalities:</p><ul><li>Portal-WebCheck is a metric to check if the http responds</li><li>http.download is a metric to check if download functionality operates well</li><li>http.upload is a metric to check if upload functionality operates well</li></ul><p>The service is assumed to operate properly if it is accessible and can support downloading material. Uploading material does not affect the state of the service (whether it is working properly or not). So in the Metrics Profile, the metrics Portal-WebCheck and http.download will be defined in order to be taken into account for concluding the status of the service.</p><p>Adopted Standards</p><ul><li>REST (<a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm" target="_blank" rel="noopener noreferrer">https://www.ics.uci.edu/~fielding/pubs/</a>)</li><li>SAML2 (<a href="https://wiki.oasis-open.org/security/FrontPage" target="_blank" rel="noopener noreferrer">https://wiki.oasis-open.org/security/FrontPage</a>)</li><li>X509 (<a href="https://www.rfc-editor.org/info/rfc5280" target="_blank" rel="noopener noreferrer">https://www.rfc-editor.org/info/rfc5280</a>)</li><li>Apache Avro (<a href="http://avro.apache.org/" target="_blank" rel="noopener noreferrer">http://avro.apache.org/</a>)</li></ul><p>Adopted Protocols</p><ul><li>HTTPS  (<a href="https://tools.ietf.org/html/rfc2818" target="_blank" rel="noopener noreferrer">https://tools.ietf.org/html/rfc2818</a>)</li><li>Nagios Plugin API (<a href="https://nagios-plugins.org/doc/guidelines.html" target="_blank" rel="noopener noreferrer">https://nagios-plugins.org/doc/guidelines.html</a>)</li><li>ARGO API over REST API (<a href="http://argoeu.github.io/guides/api/" target="_blank" rel="noopener noreferrer">http://argoeu.github.io/guides/api/</a>)</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/argo-monitoring/docs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/argo-monitoring/docs/Guides/case1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Use Case 1: Monitor an Onboarded Service (central one) Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#high-level-service-reference-architecture" class="table-of-contents__link">High-level Service Reference Architecture</a></li><li><a href="#definitions" class="table-of-contents__link">Definitions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/argo-monitoring/docs/intro">Documentation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 ARGO.</div></div></div></footer></div>
<script src="/argo-monitoring/assets/js/runtime~main.4a079497.js"></script>
<script src="/argo-monitoring/assets/js/main.2b24bbd6.js"></script>
</body>
</html>