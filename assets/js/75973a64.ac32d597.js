"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3619],{3905:(e,t,i)=>{i.d(t,{Zo:()=>d,kt:()=>h});var a=i(7294);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t){if(null==e)return{};var i,a,r=function(e,t){if(null==e)return{};var i,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var i=e.components,r=e.mdxType,n=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=u(i),h=r,m=c["".concat(s,".").concat(h)]||c[h]||p[h]||n;return i?a.createElement(m,o(o({ref:t},d),{},{components:i})):a.createElement(m,o({ref:t},d))}));function h(e,t){var i=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var n=i.length,o=new Array(n);o[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<n;u++)o[u]=i[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,i)}c.displayName="MDXCreateElement"},9967:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>n,metadata:()=>l,toc:()=>u});var a=i(7462),r=(i(7294),i(3905));const n={sidebar_position:7,title:"Get Monitoring A/R Data based on the Resource-ID"},o=void 0,l={unversionedId:"guides/EOSC-getARData",id:"guides/EOSC-getARData",title:"Get Monitoring A/R Data based on the Resource-ID",description:"Introduction",source:"@site/docs/guides/EOSC-getARData.md",sourceDirName:"guides",slug:"/guides/EOSC-getARData",permalink:"/argo-monitoring/docs/guides/EOSC-getARData",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"Get Monitoring A/R Data based on the Resource-ID"},sidebar:"tutorialSidebar",previous:{title:"Use Case  5: Third-party services exploiting EOSC Monitoring data",permalink:"/argo-monitoring/docs/guides/case5"},next:{title:"Get Monitoring Status Data based on the Resource-ID",permalink:"/argo-monitoring/docs/guides/EOSC-getStatusData"}},s={},u=[{value:"Introduction",id:"introduction",level:2},{value:"Solution",id:"solution",level:2},{value:"Step 1: Request an account",id:"step-1-request-an-account",level:3},{value:"Step 2 The response",id:"step-2-the-response",level:3},{value:"Step 3 Start using the api",id:"step-3-start-using-the-api",level:3},{value:"Example Request 1: default daily granularity with specific resource-id",id:"example-request-1-default-daily-granularity-with-specific-resource-id",level:4},{value:"Request",id:"request",level:5},{value:"Method",id:"method",level:6},{value:"Path",id:"path",level:6},{value:"Headers",id:"headers",level:6},{value:"Response",id:"response",level:5},{value:"Code",id:"code",level:6},{value:"Body",id:"body",level:6}],d={toc:u};function p(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"This use case covers the scenario of getting (A/R) Availability and Reliability data from the EOSC-Monitoring Service based on the resource-id.\nOne scenario is to get the A/R data of a service Onboarded to EOSC via the Providers Portal.\nBased on the Service-ID of the service from the  Providers Portal you can get the A/R from the monitoring service."),(0,r.kt)("p",null,"Before we start "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Availability"),": Service Availability is the fraction of time a service was in the UP Period during the known interval in a given period.  Availability rate is useful to know, as it provides information of the time the monitored item is available for use.\n",(0,r.kt)("strong",{parentName:"p"},"Reliability"),": Service Reliability is the ratio of the time interval a service was UP over the time interval it was supposed (scheduled) to be UP in the given period. Reliability rate is also useful to know, as it provides information about the quality of monitored item during the monitoring time, whereas it is reliable of usage or not."),(0,r.kt)("p",null,"More information about Availability/Reliability can be found from ",(0,r.kt)("a",{parentName:"p",href:"https://argoeu.github.io/argo-monitoring/docs/reports/ar?_highlight=avail#availability-reliability"},"here")," "),(0,r.kt)("h2",{id:"solution"},"Solution"),(0,r.kt)("p",null,"When a resource is on-boarded in the Providers Portal is automatically gets a resource-id. By the time it is on-boarded, it is also integrated with\nEOSC-Core services like Monitoring. The Monitoring Service based on the data defined in the Providers Portal, starts monitoring the resource and\ncreates near real time status reports, and availability and reliability reports. This is the information a customer can get for a resource. In this\nguide we describe how the customer can get the A/R data for a specific resource-id."),(0,r.kt)("p",null,"In order to start getting A/R monitoring data for a service or a list of services, a customer should follow the steps described below. "),(0,r.kt)("h3",{id:"step-1-request-an-account"},"Step 1: Request an account"),(0,r.kt)("p",null,"The first step to start using/testing the service is to request an account via the EOSC helpdesk and from the unit monitoring service.\nJust create a ticket with the title Account request to fetch the status of the services.\nIn the description of the ticket please describe the use case and the service that needs this type of monitoring data. "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("p",null," ",(0,r.kt)("em",{parentName:"p"},"Title"),": Account request to fetch monitoring data of a service\n",(0,r.kt)("em",{parentName:"p"},"Description"),": I am the service owner of EOSC Marketplace and i would like to display the monitoring data. I would like to request an account\nto get access to the onboarded resources. "),(0,r.kt)("p",null," If you already have an account and you are fetching the status data you can just ask access for the A/R monitoring data. "),(0,r.kt)("h3",{id:"step-2-the-response"},"Step 2 The response"),(0,r.kt)("p",null,"In the response you will get the following information "),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"report_name")),(0,r.kt)("td",{parentName:"tr",align:null},"The Name of the report that contains information about the status of the resource id.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"URL")),(0,r.kt)("td",{parentName:"tr",align:null},"The URL where you may find the  api")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"account details")),(0,r.kt)("td",{parentName:"tr",align:null},"Your account details. We usually send them via another service (dnote) for security reasons")))),(0,r.kt)("h3",{id:"step-3-start-using-the-api"},"Step 3 Start using the api"),(0,r.kt)("p",null,"By the time you have the data described in the previous step, you can start using the API. "),(0,r.kt)("p",null,"The API method supports the following parameters "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"?granularity=monthly|daily"),": to view monthly of daily A/R results for the requested resource-id. (start and end_time are required)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"start_time"),": a parameter to view the A/R  results for this specific resource-id under a certain period of time"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"end_time"),": the end_time of the period requested ")),(0,r.kt)("p",null,"You may test the API call in the following links. "),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://argoeu.github.io/argo-web-api/docs/apiv3/v3_ar_results/#example-request-1-default-daily-granularity-with-specific-resource-id"},"Details of the API Call")," "),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://argoeu.github.io/argo-web-api/openapi/explore#/Availability%20%26%20Reliability%20Results%20(v3)/arEndpointsByID"},"Test it online: AR Results (v3): GET /v3/results/{report_name}/id/{resource_id}")),(0,r.kt)("h4",{id:"example-request-1-default-daily-granularity-with-specific-resource-id"},"Example Request 1: default daily granularity with specific resource-id"),(0,r.kt)("h5",{id:"request"},"Request"),(0,r.kt)("h6",{id:"method"},"Method"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"HTTP GET")),(0,r.kt)("h6",{id:"path"},"Path"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"/api/v3/results/Report_A/id/simple-queue?start_time=2015-06-20T12:00:00Z&end_time=2015-06-26T23:00:00Z \n")),(0,r.kt)("h6",{id:"headers"},"Headers"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'x-api-key: "tenant_key_value"\nAccept: "application/json"\n')),(0,r.kt)("h5",{id:"response"},"Response"),(0,r.kt)("h6",{id:"code"},"Code"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Status: 200 OK\n")),(0,r.kt)("h6",{id:"body"},"Body"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "simple-queue",\n  "endpoints": [\n    {\n      "name": "host01.example",\n      "service": "service.queue",\n       "group": "Infra-01",\n            "info": {\n                "URL": "http://submit.queue01.example.com"\n            },\n      "results": [\n       {\n          "date": "2015-06-22",\n          "availability": "99.99999900000002",\n          "reliability": "99.99999900000002",\n          "unknown": "0",\n          "uptime": "1",\n          "downtime": "0"\n        },\n        {\n          "date": "2015-06-23",\n          "availability": "99.99999900000002",\n          "reliability": "99.99999900000002",\n          "unknown": "0",\n          "uptime": "1",\n          "downtime": "0"\n        }\n    ]\n  ]\n}\n')))}p.isMDXComponent=!0}}]);