"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6610],{3929:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>n,metadata:()=>o,toc:()=>c});var s=i(4848),r=i(8453);const n={sidebar_position:6,title:"Use Case  5: Third-party services exploiting EOSC Monitoring data"},a=void 0,o={id:"guides/case5",title:"Use Case  5: Third-party services exploiting EOSC Monitoring data",description:"Introduction",source:"@site/docs/guides/case5.md",sourceDirName:"guides",slug:"/guides/case5",permalink:"/argo-monitoring/docs/guides/case5",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,title:"Use Case  5: Third-party services exploiting EOSC Monitoring data"},sidebar:"tutorialSidebar",previous:{title:"Use Case 4: Combine Results of existing ARGO Tenants.",permalink:"/argo-monitoring/docs/guides/case4"},next:{title:"Get Monitoring A/R Data based on the Resource-ID",permalink:"/argo-monitoring/docs/guides/EOSC-getARData"}},l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Solution",id:"solution",level:2},{value:"Step 1: EOSC helpdesk",id:"step-1-eosc-helpdesk",level:3},{value:"Step 2: Start Ingesting the data.",id:"step-2-start-ingesting-the-data",level:3},{value:"Examples",id:"examples",level:2},{value:"Retrieve availability, reliability and status results of a service",id:"retrieve-availability-reliability-and-status-results-of-a-service",level:5},{value:"API call examples for A/R reports",id:"api-call-examples-for-ar-reports",level:5},{value:"API call examples for status reports",id:"api-call-examples-for-status-reports",level:5}];function h(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h5:"h5",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(t.p,{children:"This use case covers the scenario according to which the customer needs to use the results of the EOSC Monitoring Service in an external service/dashboard."}),"\n",(0,s.jsx)(t.p,{children:"The customer can access the following information via an API:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"A/R information about the service and its service components"}),"\n",(0,s.jsx)(t.li,{children:"Status information about the service and its service components"}),"\n",(0,s.jsx)(t.li,{children:"The topology and grouping of the service"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"solution",children:"Solution"}),"\n",(0,s.jsx)(t.h3,{id:"step-1-eosc-helpdesk",children:"Step 1: EOSC helpdesk"}),"\n",(0,s.jsx)(t.p,{children:"\u03a4he user that wants to gain access to this type of monitoring information will get a token with read-only access to the A/R and status results. The user via the EOSC helpdesk may send his request to the monitoring team by sending:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"The name of the service that wants the information"}),"\n",(0,s.jsx)(t.li,{children:"An email to create the user"}),"\n",(0,s.jsx)(t.li,{children:"The type of information (A/R results, status results, both)"}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"step-2-start-ingesting-the-data",children:"Step 2: Start Ingesting the data."}),"\n",(0,s.jsx)(t.p,{children:"The monitoring team will provide the required  token and information, guidance on how to retrieve the information."}),"\n",(0,s.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(t.h5,{id:"retrieve-availability-reliability-and-status-results-of-a-service",children:"Retrieve availability, reliability and status results of a service"}),"\n",(0,s.jsxs)(t.p,{children:["In this example we are going to present how the user can get the availability,  the reliability values and the status of the AMS (Messaging Service)  (endpoint:  ",(0,s.jsx)(t.a,{href:"https://msg.argo.grnet.gr/",children:"https://msg.argo.grnet.gr"}),") of the Organisation GRNET."]}),"\n",(0,s.jsx)(t.p,{children:"The Monitoring Service Monitoring Service is checking the services at regular intervals. It actually runs explicit tests (checks) in order to assess the status of the service. The result of the checks decides on the status of the service. In order to display status information it uses reports where it keeps all the necessary information."}),"\n",(0,s.jsxs)(t.p,{children:["At the same time it produces useful conclusions about the monitoring item via the monitoring analytics engine. One very useful conclusion is to decide if the item is available for usage and if it is considered as reliable. To succeed this, availability/reliability values (hourly, daily, monthly)  are calculated. These different types of information are also encapsulated in a ",(0,s.jsx)(t.strong,{children:"report"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"The EOSC monitoring service monitors the Messaging Service and it performs the following checks"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"cert_validity_check"})," : a metric that checks the validity of the certificate used by the service"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"ams_check"}),": a metric that checks a list of functionalities provided by the messaging service."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Based on the explanation provided above,  the information about the service follows:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Definition"}),(0,s.jsx)(t.th,{children:"Value"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"GROUP"}),(0,s.jsx)(t.td,{children:"GRNET"}),(0,s.jsx)(t.td,{children:"A collection of services"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SERVICE"}),(0,s.jsx)(t.td,{children:"AMS"}),(0,s.jsx)(t.td,{children:"The type of one of the services of the collection"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SERVICE endpoint"}),(0,s.jsx)(t.td,{children:"msg.argo.grnet.gr(AMS)"}),(0,s.jsxs)(t.td,{children:["is defined as the combination of a hostname and Service Type. (a Service Type of AMS listening on port/s ",(0,s.jsx)(t.code,{children:"<ams-port/s\\>"}),"on the host msg.argo.grnet.gr is a service endpoint)"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Grouping used in the report"}),(0,s.jsx)(t.td,{children:"SERVICEGROUPS"}),(0,s.jsx)(t.td,{children:"the way the services are organized (e.g. in groups of sites, in groups of services) in the monitoring engine"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"A/R report"}),(0,s.jsx)(t.td,{children:"Default"}),(0,s.jsx)(t.td,{children:"The place where the A/R results are provided."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Status report"}),(0,s.jsx)(t.td,{children:"Default"}),(0,s.jsx)(t.td,{children:"The place where  status results are provided."})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This is the configuration that the user will have to use to use the api calls."}),"\n",(0,s.jsx)(t.h5,{id:"api-call-examples-for-ar-reports",children:"API call examples for A/R reports"}),"\n",(0,s.jsx)(t.p,{children:"The api authenticates the user using the api-key within the x-api-key header. Users can specify time granularity (monthly or daily) for retrieved results and also format  using the Accept header. Depending on the form of the request the user can request a group, service or service endpoint."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Detailed documentation:"}),"\n",(0,s.jsx)(t.a,{href:"https://argoeu.github.io/argo-web-api/docs/apiv3/v3_ar_results",children:"ARGO web api v3 a/r results"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Example:"})}),"\n",(0,s.jsx)(t.p,{children:"For the AMS the corresponding api call to get the A/R of the service group GRNET is:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:"Request for A/R results for service group GRNET:"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'$ curl -X GET -H "Accept: application/json" -H "Content-Type: application/json" -H "x-api-key: secret-token" https://api.argo.grnet.gr/api/v3/results/Default/SERVICEGROUPS/GRNET?start_time=2021-08-05T00:00:00Z&end_time=2021-08-05T23:59:59Z\n'})}),"\n",(0,s.jsx)(t.h5,{id:"api-call-examples-for-status-reports",children:"API call examples for status reports"}),"\n",(0,s.jsx)(t.p,{children:"The api authenticates the user using the api-key within the x-api-key header. Users can specify time granularity (monthly or daily) for retrieved results and also format  using the Accept header. Depending on the form of the request the user can request a group, service or service endpoint."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Detailed documentation:"}),"\n",(0,s.jsx)(t.a,{href:"https://argoeu.github.io/argo-web-api/",children:"ARGO web api docs"}),(0,s.jsx)(t.a,{href:"https://argoeu.github.io/argo-web-api/docs/apiv3/v3_status_results",children:"ARGO web api v3 status results"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Example:"})}),"\n",(0,s.jsx)(t.p,{children:"For the AMS the corresponding api call to get the status of the service group GRNET is:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:"Request for status results for service group GRNET:"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'$ curl -X GET -H "Accept: application/json" -H "Content-Type: application/json" -H "x-api-key: secret-token" https://api.argo.grnet.gr/api/v3/status/Default/SERVICEGROUPS/GRNET?start_time=2021-08-05T00:00:00Z&end_time=2021-08-05T23:59:59Z \n'})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>o});var s=i(6540);const r={},n=s.createContext(r);function a(e){const t=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(n.Provider,{value:t},e.children)}}}]);